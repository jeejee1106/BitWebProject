<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script type="text/javascript">
	var idx=2;
	var color = "#ff00ff";
	$(function() {
	   can = document.getElementById("can");
	   ctx = can.getContext("2d");
	   draw();
	   
	   $("#selcanvas").change(function(){
			idx = parseInt($(this).val());
			draw();
		});
	   
	   $("#shapecolor").change(function(){
		   color = $(this).val();
		   draw();
	   });
	   
	});
	
	function draw(){
		ctx.fillStyle="#fff"; //기존 도형 지우기
		ctx.fillRect(0, 0, can.width, can.height);
		
		ctx.lineWidth = 10;
		ctx.lineCap = "round";
		ctx.strokeStyle = color;
		ctx.fillStyle = color;
		
		switch(idx){
		case 1:
			ctx.beginPath();
			ctx.moveTo(30,100); //원하는 위치로 이동
			ctx.lineTo(200, 100);
			ctx.stroke(); //실제 선 그리기 실행
			ctx.closePath();
			break;
		case 2:
			ctx.beginPath();
			ctx.arc(100, 100, 70, 0, Math.PI * 2);
			ctx.fill();
			ctx.stroke();
			ctx.closePath();
			break;
		case 3:
			ctx.fillRect(30, 30, 200, 200);
			break;
		case 4:
			ctx.lineWidth=1;
			ctx.font = "40px Comic Sans MS";
			ctx.fillText("Happy!!", 30, 100);
		
		}	
	}
	
	
</script>

</head>
<body>
	<h3>선택하세요</h3>
	<select	id="selcanvas">
		<option value="1">선</option>
		<option value="2" selected="selected">원</option>
		<option value="3">사각형</option>
		<option value="4">텍스트</option>
	</select>
	<br>
	<b>색상</b>
	<input type="color" id="shapecolor" value="#ff00ff">
	
	<canvas id="can" width="300" height="300"></canvas>
</body>
</html>